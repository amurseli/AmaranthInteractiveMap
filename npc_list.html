<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>People of Amaranth</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #222;
            color: white;
        }

        /* Barra de navegación */
        #navbar {
            background-color: #333;
            padding: 10px;
            display: flex;
            gap: 15px;
        }
        #navbar a {
            color: white;
            text-decoration: none;
            font-size: 18px;
        }
        #navbar a:hover {
            text-decoration: underline;
        }

        /* Estilos para el título sobre la barra de búsqueda */
        .search-title {
            text-align: center;
            font-size: 10px;
            margin-top: 10px;
            margin-bottom: 10px;
            padding: 10px;
            font-family: "Georgia", serif;
        }

        .search-title h1 {
            font-size: 36px;
            font-weight: bold;
            letter-spacing: 2px;
            color: #ddd;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .search-title p {
            font-size: 18px;
            color: #bbb;
            max-width: 70%;
            margin: 0 auto;
            font-style: italic;
        }


        /* Estilos del buscador */
        .search-container {
            text-align: center;
            margin: 20px auto;
        }

        #search {
            width: 80%;
            max-width: 500px;
            padding: 10px;
            font-size: 18px;
            background-color: #222;  /* Match the background */
            color: white;
            border: 2px solid rgb(169, 169, 169);  /* White outline */
            border-radius: 8px;
            outline: none;
            transition: border-color 0.3s, box-shadow 0.3s;
        }

        #search:focus {
            border-color: #888;  /* Lighter outline on focus */
            box-shadow: 0 0 8px rgba(255, 255, 255, 0.5);  /* Subtle glow effect */
        }

        /* Contenedor de NPCs */
        .npcs-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
            padding: 20px;
            max-width: 600px;
            margin: auto;
        }

        /* Estilos de las tarjetas */
        .npc-card {
            background: #444;
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            transition: transform 0.2s, background 0.3s;
            font-size: 20px;
            overflow: hidden;
            position: relative;
        }

        .npc-card:hover {
            transform: scale(1.05);
            background: #555;
        }

        .npc-card h3 {
            margin: 10px 0;
            font-size: 24px;
            position: relative;
            z-index: 2;
        }

        .npc-card p {
            font-size: 16px;
            opacity: 0.8;
            position: relative;
            z-index: 2;
        }

        .npc-card img {
            width: 100%;
            height: 150px;
            object-fit: cover;
            filter: blur(8px);
            opacity: 0.6;
            position: absolute;
            bottom: 0;
            left: 0;
            border-bottom-left-radius: 12px;
            border-bottom-right-radius: 12px;
            object-position: center var(--img-position, 50%);
        }


        /* Ocultar NPCs que no coinciden con la búsqueda */
        .hidden {
            display: none;
        }
    </style>
</head>
<body>

    <!-- Barra de navegación -->
    <div id="navbar">
        <a href="index.html">Mapa</a>
        <a href="stories.html">Historias</a>
        <a href="recaps.html">Recaps</a>
    </div>
    <!-- Título sobre la barra de búsqueda -->
    <div class="search-title">
        <p>Hermanos, a pedido del Hermano Septerius, y siguiendo el Pacto de Diligente Observancia, he recopilado aquí las entidades con mayor enlazamiento kármico que encontré. Les recuerdo que tanto la influencia del cuerpo de Animadverte, como la presencia de ambos entres extra-Spireanos, dificulta mucho el análisis, por lo que espero poder actualizar esta lista tan pronto tenga nueva información. </p>
    </div>

    <!-- Barra de búsqueda -->
    <div class="search-container">
        <input type="text" id="search" placeholder="Buscar NPCs...">
    </div>

    <!-- Contenedor de NPCs -->
    <div class="npcs-container">
        <div class="npc-card" onclick="location.href='npc.html?npc=shock&title=Shock'">
            <h3>Shock, El Goblin Solitario</h3>
            <img src="lore/npcs/npc-img/shock.jpg" alt="Imagen de Shock">
        </div>
        <div class="npc-card" onclick="location.href='npc.html?npc=shock&title=Sif%20Cloudwalker'">
            <h3>Sif Cloudwalker, El Héroe Tabaxi</h3>
            <img src="shock.jpg" alt="Imagen de Sif">
        </div>
        <div class="npc-card" onclick="location.href='npc.html?npc=shock&title=Renaer%20Neverember'">
            <h3>Renaer Neverember, El Héroe de Waterdeep</h3>
            <img src="shock.jpg" alt="Imagen de Renaer">
        </div>
        <div class="npc-card" data-img-position="30%" onclick="location.href='npc.html?npc=shock&title=Phalanya%20Kysse'">
            <h3>Phalanya Kysse, La Exploradora del Bosque de Estrellas</h3>
            <img src="lore/npcs/npc-img/phalanya.png" alt="Imagen de Phalanya">
        </div>

    </div>

    <script>
        document.getElementById('search').addEventListener('input', function() {
            let searchText = this.value.toLowerCase();
            console.log("Buscando: ", searchText); // Verificar en consola
            let npcCards = document.querySelectorAll('.npc-card');

            npcCards.forEach(card => {
                let titleElement = card.querySelector('h3'); // Buscamos el elemento
                let descriptionElement = card.querySelector('p'); 

                let title = titleElement ? titleElement.innerText.toLowerCase() : "";
                let description = descriptionElement ? descriptionElement.innerText.toLowerCase() : "";

                if (title.includes(searchText) || description.includes(searchText)) {
                    card.style.display = "block"; // Mostrar tarjeta
                } else {
                    card.style.display = "none"; // Ocultar tarjeta
                }
            });
        });

        document.addEventListener('DOMContentLoaded', function() {
        document.querySelectorAll('.npc-card').forEach(card => {
                let img = card.querySelector('img');
                let imgPosition = card.getAttribute('data-img-position');
                if (img && imgPosition) {
                    img.style.objectPosition = `center ${imgPosition}`;
                }
            });
        });

    </script>

</body>
</html>
